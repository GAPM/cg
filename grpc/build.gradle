buildscript {
  repositories {
    mavenCentral()
  }
  dependencies {
    classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.0.0-beta-4584'
  }
}

apply plugin: 'antlr'
apply plugin: 'application'
apply plugin: 'kotlin'

repositories {
    mavenCentral()
}

mainClassName = "grpc.main.ExecKt"

compileKotlin.dependsOn generateGrammarSource

dependencies {
    antlr 'org.antlr:antlr4:4.5.1-1'
    compile 'commons-cli:commons-cli:1.3.1'
    compile 'org.jetbrains.kotlin:kotlin-stdlib:1.0.0-beta-4584'
    compile 'org.jetbrains.kotlin:kotlin-reflect:1.0.0-beta-4584'
}

generateGrammarSource {
    arguments += ["-package", "grpc.lib.compiler.internal"]
}
